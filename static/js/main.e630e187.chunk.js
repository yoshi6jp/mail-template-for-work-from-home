(this["webpackJsonpmt-wfh"]=this["webpackJsonpmt-wfh"]||[]).push([[0],{341:function(e,t,a){e.exports={clear_btn:"MailContentEditor_clear_btn__MF5nd"}},342:function(e,t,a){e.exports={text_btn:"Preview_text_btn__3_ogS"}},344:function(e,t,a){e.exports={top:"Body_top__EAoNQ"}},346:function(e,t,a){e.exports=a(811)},351:function(e,t,a){},811:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(320),r=a.n(l),o=(a(351),a(41)),u=a.n(o),m=a(80),s=a(815),i=a(816),d=a(817),b=a(26),p=a(27),f=a(15),E=a(30),h={to:"",subject:"",body:"",type:"Start",schema:null,uiSchema:null,formData:null,configUrl:"",sendUrl:""},j=function(e,t){switch(t.type){case"SetTo":return Object(E.a)({},e,{to:t.payload});case"SetSubject":return Object(E.a)({},e,{subject:t.payload});case"SetBody":return Object(E.a)({},e,{body:t.payload});case"SetType":return Object(E.a)({},e,{type:t.payload});case"SetSchema":return Object(E.a)({},e,{schema:t.payload});case"SetUiSchema":return Object(E.a)({},e,{uiSchema:t.payload});case"SetFormData":return Object(E.a)({},e,{formData:t.payload});case"SetConfigUrl":return Object(E.a)({},e,{configUrl:t.payload});case"SetSendUrl":return Object(E.a)({},e,{sendUrl:t.payload});case"ClearJsonSchema":return Object(E.a)({},e,{schema:null,uiSchema:null,formData:null,configUrl:"",sendUrl:""});default:return e}},O=Object(n.createContext)(Object(E.a)({},h,{dispatch:function(){}})),g=function(e){var t=e.children,a=Object(n.useReducer)(j,h),l=Object(f.a)(a,2),r=l[0],o=l[1];return c.a.createElement(O.Provider,{value:Object(E.a)({},r,{dispatch:o})},t)},S="mail-template-for-work-from-home-",y={to:"".concat(S,"to"),start_subject:"".concat(S,"start_subject"),end_subject:"".concat(S,"end_subject"),start_header:"".concat(S,"start_header"),end_header:"".concat(S,"end_header"),time_label:"".concat(S,"time_label"),content_label:"".concat(S,"content_label"),content_text:"".concat(S,"content_text"),footer:"".concat(S,"footer"),start_time:"".concat(S,"start_time"),end_time:"".concat(S,"end_time"),config_url:"".concat(S,"config_url"),schema_json_data:"".concat(S,"schema_json_data")},v=function(){var e=Object(n.useContext)(O),t=e.to,a=e.subject,l=e.body,r=e.formData,o=e.sendUrl,f="https://outlook.office.com/owa/?subject=".concat(encodeURIComponent(a),"&body=").concat(encodeURIComponent(l),"&to=").concat(t,"&path=/mail/action/compose"),E=Object(n.useCallback)(Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(r),localStorage.setItem(y.schema_json_data,t),e.next=4,fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:t});case 4:case"end":return e.stop()}}),e)}))),[r,o]);return c.a.createElement(s.a,{dark:!0,color:"dark",fixed:"top"},c.a.createElement(i.a,null,"\u30c6\u30ec\u30ef\u30fc\u30af\u7528\u306e\u30e1\u30fc\u30eb\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"),c.a.createElement(d.a,{onClick:E,className:"d-none d-sm-inline-block",title:"Outlook on the web\u3067\u30e1\u30fc\u30eb\u3092\u4f5c\u6210",tag:"a",target:"_blank",href:f},c.a.createElement(b.a,{icon:p.c})))},C=a(824),_=a(825),k=a(826),x=a(818),w=a(819),I=a(321),N=a(820),T=localStorage.getItem(y.to)||"",D=function(){var e=Object(n.useContext)(O).dispatch,t=Object(n.useCallback)((function(t){var a=t.target.value||"";e({type:"SetTo",payload:a}),localStorage.setItem(y.to,a)}),[e]);return Object(n.useEffect)((function(){e({type:"SetTo",payload:T})}),[e]),c.a.createElement(x.a,null,c.a.createElement(w.a,{addonType:"prepend"},c.a.createElement(I.a,null,"\u5b9b\u5148")),c.a.createElement(N.a,{required:!0,type:"email",defaultValue:T,onChange:t,placeholder:"\u4f8b: report@example.com"}))},U=a(821),R=a(822),J=function(){var e=Object(n.useContext)(O),t=e.type,a=e.dispatch,l=Object(n.useCallback)((function(e){a({type:"SetType",payload:e.target.value})}),[a]);return c.a.createElement(x.a,null,c.a.createElement(w.a,{addonType:"prepend"},c.a.createElement(I.a,null,"\u7a2e\u5225")),c.a.createElement("div",{className:"form-control"},c.a.createElement(U.a,{check:!0,inline:!0},c.a.createElement(R.a,{check:!0},c.a.createElement(N.a,{value:"Start",name:"type",type:"radio",onChange:l,defaultChecked:"Start"===t}),"\u696d\u52d9\u958b\u59cb")),c.a.createElement(U.a,{check:!0,inline:!0},c.a.createElement(R.a,{check:!0},c.a.createElement(N.a,{value:"End",name:"type",type:"radio",onChange:l,defaultChecked:"End"===t}),"\u696d\u52d9\u7d42\u4e86"))))},B=localStorage.getItem(y.start_subject)||"[\u30c6\u30ec\u30ef\u30fc\u30af]\u696d\u52d9\u958b\u59cb",F=localStorage.getItem(y.end_subject)||"[\u30c6\u30ec\u30ef\u30fc\u30af]\u696d\u52d9\u7d42\u4e86",P=function(){var e=Object(n.useContext)(O),t=e.type,a=e.dispatch,l=Object(n.useState)(B),r=Object(f.a)(l,2),o=r[0],u=r[1],m=Object(n.useState)(F),s=Object(f.a)(m,2),i=s[0],d=s[1];Object(n.useEffect)((function(){a({type:"SetSubject",payload:"End"===t?i:o})}),[t,o,i,a]);var b=Object(n.useCallback)((function(e){var t=e.target.value||"";u(t),localStorage.setItem(y.start_subject,t)}),[u]),p=Object(n.useCallback)((function(e){var t=e.target.value||"";d(t),localStorage.setItem(y.end_subject,t)}),[d]);return c.a.createElement(x.a,null,c.a.createElement(w.a,{addonType:"prepend"},c.a.createElement(I.a,null,"\u4ef6\u540d")),c.a.createElement(N.a,{hidden:"Start"!==t,require:!0,key:"Start",defaultValue:o,onChange:b,placeholder:"\u696d\u52d9\u958b\u59cb\u6642\u306e\u4ef6\u540d\u3092\u5165\u529b"}),c.a.createElement(N.a,{hidden:"End"!==t,required:!0,key:"End",defaultValue:i,onChange:p,placeholder:"\u696d\u52d9\u7d42\u4e86\u6642\u306e\u4ef6\u540d\u3092\u5165\u529b"}))},V=a(322),A=a.n(V),M=a(64),H=localStorage.getItem(y.start_header)||"xx\u3055\u3093\n\nxx\u3067\u3059\u3002\n\u30c6\u30ec\u30ef\u30fc\u30af\u958b\u59cb\u3057\u307e\u3059\u3002",q=localStorage.getItem(y.end_header)||"xx\u3055\u3093\n\nxx\u3067\u3059\u3002\n\u30c6\u30ec\u30ef\u30fc\u30af\u7d42\u4e86\u3057\u307e\u3059\u3002",L=function(e){var t=e.onChange,a=Object(n.useContext)(O).type,l=Object(n.useState)(H),r=Object(f.a)(l,2),o=r[0],u=r[1],m=Object(n.useState)(q),s=Object(f.a)(m,2),i=s[0],d=s[1];Object(n.useEffect)((function(){switch(a){case"Start":t(o);break;case"End":t(i)}}),[a,o,i,t]),Object(n.useEffect)((function(){localStorage.setItem(y.start_header,o)}),[o]),Object(n.useEffect)((function(){localStorage.setItem(y.end_header,i)}),[i]);var b=Object(n.useCallback)((function(e){u(e.target.value)}),[u]),p=Object(n.useCallback)((function(e){d(e.target.value)}),[d]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(M.a,{className:"form-control",hidden:"Start"!==a,defaultValue:o,onChange:b,placeholder:"\u958b\u59cb\u7528\u306e\u672c\u6587\u306e\u30d8\u30c3\u30c0\u30fc",minRows:3}),c.a.createElement(M.a,{className:"form-control",hidden:"End"!==a,defaultValue:i,onChange:p,placeholder:"\u7d42\u4e86\u7528\u306e\u672c\u6587\u306e\u30d8\u30c3\u30c0\u30fc",minRows:3}))},W=a(345),z={};try{var Q=localStorage.getItem(y.schema_json_data);Q&&(z=JSON.parse(Q))}catch(ve){console.log(ve)}var $=function(){var e=Object(n.useContext)(O),t=e.schema,a=e.uiSchema,l=e.dispatch,r=Object(n.useState)(z),o=Object(f.a)(r,2),u=o[0],m=o[1],s=Object(n.useCallback)((function(e){var t=e.formData;m(t)}),[m]);return Object(n.useEffect)((function(){l({type:"SetFormData",payload:u})}),[l,u]),t&&a?c.a.createElement(W.a,{schema:t,uiSchema:a,formData:u,onChange:s},c.a.createElement("hr",null)):c.a.createElement(c.a.Fragment,null)},G=a(823),K=a(827),X=a(828),Y=localStorage.getItem(y.start_time)||"08:40",Z=localStorage.getItem(y.end_time)||"17:30",ee=localStorage.getItem(y.time_label)||"[\u6642\u9593]",te=function(e){var t=e.onChange,a=Object(n.useContext)(O).type,l=Object(n.useState)(Y),r=Object(f.a)(l,2),o=r[0],u=r[1],m=Object(n.useState)(Z),s=Object(f.a)(m,2),i=s[0],E=s[1],h=Object(n.useState)(ee),j=Object(f.a)(h,2),g=j[0],S=j[1],v=Object(n.useCallback)((function(e){u(e.target.value||"")}),[u]),C=Object(n.useCallback)((function(e){E(e.target.value||"")}),[E]),_=Object(n.useCallback)((function(){u(Object(K.a)(new Date,"HH:mm"))}),[u]),k=Object(n.useCallback)((function(){E(Object(K.a)(new Date,"HH:mm"))}),[E]);return Object(n.useEffect)((function(){t("".concat(g,"\n\n    ").concat(Object(K.a)(new Date,"L/d(E)",{locale:X.a})," ").concat(o," - ").concat(i))}),[g,o,i,t]),Object(n.useEffect)((function(){localStorage.setItem(y.start_time,o)}),[o]),Object(n.useEffect)((function(){"Start"===a&&localStorage.setItem(y.end_time,i)}),[i,a]),c.a.createElement("div",null,c.a.createElement(G.a,{inline:!0},c.a.createElement(N.a,{onChange:function(e){var t=e.target.value||"";S(t),localStorage.setItem(y.time_label,t)},placeholder:"\u6642\u9593\u306e\u30e9\u30d9\u30eb",value:g})),c.a.createElement(G.a,{inline:!0},c.a.createElement(U.a,{className:"w-100"},c.a.createElement("div",{className:"mx-4"},Object(K.a)(new Date,"L/d(E)",{locale:X.a})),c.a.createElement(x.a,null,c.a.createElement(N.a,{type:"time",value:o,onChange:v}),c.a.createElement(w.a,{addonType:"append",hidden:"Start"!==a},c.a.createElement(d.a,{title:"\u73fe\u5728\u306e\u6642\u523b\u3092\u8a2d\u5b9a\u3059\u308b",onClick:_},c.a.createElement(b.a,{icon:p.e})))),c.a.createElement(b.a,{icon:p.d,className:"mx-3"}),c.a.createElement(x.a,null,c.a.createElement(N.a,{type:"time",value:i,onChange:C}),c.a.createElement(w.a,{addonType:"append",hidden:"End"!==a},c.a.createElement(d.a,{title:"\u73fe\u5728\u306e\u6642\u523b\u3092\u8a2d\u5b9a\u3059\u308b",onClick:k},c.a.createElement(b.a,{icon:p.e})))))))},ae=a(341),ne=a.n(ae),ce=localStorage.getItem(y.content_label)||"[\u4f5c\u696d\u5185\u5bb9]",le=localStorage.getItem(y.content_text)||"",re=function(e){var t=e.onChange,a=Object(n.useState)(ce),l=Object(f.a)(a,2),r=l[0],o=l[1],u=Object(n.useState)(le),m=Object(f.a)(u,2),s=m[0],i=m[1],E=Object(n.useCallback)((function(e){var t=e.target.value||"";o(t),localStorage.setItem(y.content_label,t)}),[o]),h=Object(n.useCallback)((function(e){var t=e.target.value||"";i(t),localStorage.setItem(y.content_text,t)}),[i]),j=Object(n.useCallback)((function(){i("")}),[i]);return Object(n.useEffect)((function(){t("".concat(r,"\n\n").concat(s))}),[r,s,t]),c.a.createElement("div",null,c.a.createElement(G.a,{inline:!0},c.a.createElement(N.a,{onChange:E,value:r})),c.a.createElement("div",{className:"position-relative"},c.a.createElement(M.a,{value:s,minRows:5,className:"form-control",placeholder:"\u4f8b\n- AAA\u306e\u4f5c\u696d\n- BBB\u306e\u4f5c\u696d\n- CCC\u306e\u4f5c\u696d\n",onChange:h}),c.a.createElement(d.a,{onClick:j,size:"sm",title:"\u5185\u5bb9\u3092\u6d88\u53bb",color:"white",outline:!0,className:ne.a.clear_btn},c.a.createElement(b.a,{icon:p.f}))))},oe=localStorage.getItem(y.footer)||"\u4ee5\u4e0a\u3067\u3059\u3002\n\n------\n\u3053\u306e\u30e1\u30fc\u30eb\u306f\u3001\u4ee5\u4e0b\u306e\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n- [\u30c6\u30ec\u30ef\u30fc\u30af\u7528\u306e\u30e1\u30fc\u30eb\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8](https://yoshi6jp.github.io/mail-template-for-work-from-home/)",ue=function(e){var t=e.onChange,a=Object(n.useCallback)((function(e){var a=e.target.value||"";t(a),localStorage.setItem(y.footer,a)}),[t]);return Object(n.useEffect)((function(){t(oe)}),[t]),c.a.createElement(M.a,{className:"form-control",minRows:3,onChange:a,defaultValue:oe,placeholder:"\u672c\u6587\u306e\u30d5\u30c3\u30bf\u30fc"})},me=function(){var e=Object(n.useContext)(O),t=e.dispatch,a=e.schema,l=e.formData,r=Object(n.useState)(""),o=Object(f.a)(r,2),u=o[0],m=o[1],s=Object(n.useState)(""),i=Object(f.a)(s,2),d=i[0],b=i[1],p=Object(n.useState)(""),E=Object(f.a)(p,2),h=E[0],j=E[1],g=Object(n.useState)(""),S=Object(f.a)(g,2),y=S[0],v=S[1];return Object(n.useEffect)((function(){var e="";if(a){var n="";try{n=A.a.safeDump(l||"")}catch(ve){console.log(ve)}e="".concat(u,"\n\n").concat(d,"\n\n").concat("```yaml","\n").concat(n,"\n").concat("```","\n\n").concat(y)}else e="".concat(u,"\n\n").concat(d,"    \n\n").concat(h,"\n\n").concat(y);t({type:"SetBody",payload:e})}),[u,d,h,y,a,l,t]),c.a.createElement("div",null,c.a.createElement("div",{className:"d-none d-sm-block"},c.a.createElement("p",{className:"lead"},"\u672c\u6587"),c.a.createElement(L,{onChange:m}),c.a.createElement(te,{onChange:b})),a?c.a.createElement($,null):c.a.createElement(re,{onChange:j}),c.a.createElement("div",{className:"d-none d-sm-block"},c.a.createElement(ue,{onChange:v})))},se=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"d-none d-sm-block"},c.a.createElement(D,null),c.a.createElement(J,null),c.a.createElement(P,null)),c.a.createElement("br",null),c.a.createElement(me,null))},ie=a(144),de=a.n(ie),be=a(342),pe=a.n(be),fe=function(){var e=Object(n.useContext)(O),t=e.to,a=e.subject,l=e.body;return c.a.createElement("div",null,c.a.createElement(x.a,null,c.a.createElement(w.a,{addonType:"prepend"},c.a.createElement(I.a,null,"\u5b9b\u5148")),c.a.createElement(N.a,{readOnly:!0,value:t}),c.a.createElement(w.a,{addonType:"append"},c.a.createElement(de.a,{text:t},c.a.createElement(d.a,{title:"\u5b9b\u5148\u3092\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc"},c.a.createElement(b.a,{icon:p.a}))))),c.a.createElement("br",null),c.a.createElement(x.a,null,c.a.createElement(w.a,{addonType:"prepend"},c.a.createElement(I.a,null,"\u4ef6\u540d")),c.a.createElement(N.a,{readOnly:!0,value:a}),c.a.createElement(w.a,{addonType:"append"},c.a.createElement(de.a,{text:a},c.a.createElement(d.a,{title:"\u4ef6\u540d\u3092\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc"},c.a.createElement(b.a,{icon:p.a}))))),c.a.createElement("br",null),c.a.createElement("p",{className:"lead"},"\u672c\u6587"),c.a.createElement("div",{className:"border position-relative p-1"},c.a.createElement("pre",null,c.a.createElement("code",null,l)),c.a.createElement(de.a,{text:l},c.a.createElement(d.a,{className:pe.a.text_btn,title:"\u672c\u6587\u3092\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc"},c.a.createElement(b.a,{icon:p.a})))))},Ee=a(343),he=localStorage.getItem(y.config_url)||"",je=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(he),a=Object(f.a)(t,2),l=a[0],r=a[1],o=Object(n.useContext)(O).dispatch,s=Object(n.useCallback)(function(){var e=Object(m.a)(u.a.mark((function e(t){var a,n,c,l,r,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.stopPropagation(),!(a=t.dataTransfer.files[0])){e.next=8;break}return e.next=6,Object(Ee.readAsText)(a);case 6:n=e.sent;try{c=JSON.parse(n),l=c.FORM,r=c.UI,m=c.ENDPOINT,l&&o({type:"SetSchema",payload:l}),r&&o({type:"SetUiSchema",payload:r}),m&&o({type:"SetSendUrl",payload:m})}catch(ve){}case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o]),i=Object(n.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]),E=Object(n.useCallback)(Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=null===(a=e.current)||void 0===a?void 0:a.value)?r(n):(localStorage.removeItem(y.config_url),o({type:"ClearJsonSchema"}));case 2:case"end":return t.stop()}}),t)}))),[e,r,o]);return Object(n.useEffect)((function(){r(he)}),[]),Object(n.useEffect)((function(){l&&Object(m.a)(u.a.mark((function e(){var t,a,n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(l);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.FORM,c=a.UI,r=a.ENDPOINT,console.log(r,a),n&&o({type:"SetSchema",payload:n}),c&&o({type:"SetUiSchema",payload:c}),r&&o({type:"SetSendUrl",payload:r}),n&&r&&(o({type:"SetConfigUrl",payload:l}),localStorage.setItem(y.config_url,l));case 12:case"end":return e.stop()}}),e)})))()}),[l,o]),c.a.createElement(x.a,{className:"mb-1"},c.a.createElement(w.a,{addonType:"prepend"},c.a.createElement(I.a,null,"JSON Schema (experiment)")),c.a.createElement(N.a,{type:"url",innerRef:e,onDrop:s,onDragOver:i,placeholder:"\u672c\u6587\u306e JSON Schema \u306e URL \u3092\u8a2d\u5b9a ",defaultValue:he}),c.a.createElement(w.a,{addonType:"append"},c.a.createElement(d.a,{onClick:E},c.a.createElement(b.a,{icon:p.b}))))},Oe=a(344),ge=a.n(Oe),Se=function(){return c.a.createElement(C.a,{className:ge.a.top,fluid:!0},c.a.createElement(_.a,null,c.a.createElement(k.a,{md:"12"},c.a.createElement(je,null)),c.a.createElement(k.a,{md:"12",lg:"6"},c.a.createElement(se,null)),c.a.createElement(k.a,{md:"12",lg:"6",className:"d-none d-sm-block"},c.a.createElement(fe,null))))},ye=function(){return c.a.createElement(g,null,c.a.createElement("div",null,c.a.createElement(v,null),c.a.createElement(Se,null)))};a(809),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[346,1,2]]]);
//# sourceMappingURL=main.e630e187.chunk.js.map