(this["webpackJsonpmt-wfh"]=this["webpackJsonpmt-wfh"]||[]).push([[0],{341:function(e,t,a){e.exports={clear_btn:"MailContentEditor_clear_btn__MF5nd"}},342:function(e,t,a){e.exports={text_btn:"Preview_text_btn__3_ogS"}},344:function(e,t,a){e.exports={top:"Body_top__EAoNQ"}},346:function(e,t,a){e.exports=a(811)},351:function(e,t,a){},811:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(320),r=a.n(l),o=(a(351),a(51)),u=a.n(o),m=a(101),s=a(815),i=a(816),d=a(817),b=a(26),p=a(27),E=a(15),f=a(32),h={to:"",subject:"",body:"",type:"Start",schema:null,uiSchema:null,formData:null,configUrl:"",sendUrl:""},j=function(e,t){switch(t.type){case"SetTo":return Object(f.a)({},e,{to:t.payload});case"SetSubject":return Object(f.a)({},e,{subject:t.payload});case"SetBody":return Object(f.a)({},e,{body:t.payload});case"SetType":return Object(f.a)({},e,{type:t.payload});case"SetSchema":return Object(f.a)({},e,{schema:t.payload});case"SetUiSchema":return Object(f.a)({},e,{uiSchema:t.payload});case"SetFormData":return Object(f.a)({},e,{formData:t.payload});case"SetConfigUrl":return Object(f.a)({},e,{configUrl:t.payload});case"SetSendUrl":return Object(f.a)({},e,{sendUrl:t.payload});default:return e}},O=Object(n.createContext)(Object(f.a)({},h,{dispatch:function(){}})),g=function(e){var t=e.children,a=Object(n.useReducer)(j,h),l=Object(E.a)(a,2),r=l[0],o=l[1];return c.a.createElement(O.Provider,{value:Object(f.a)({},r,{dispatch:o})},t)},S=function(){var e=Object(n.useContext)(O),t=e.to,a=e.subject,l=e.body,r=e.formData,o=e.sendUrl,E="https://outlook.office.com/owa/?subject=".concat(encodeURIComponent(a),"&body=").concat(encodeURIComponent(l),"&to=").concat(t,"&path=/mail/action/compose"),f=Object(n.useCallback)(Object(m.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 2:case"end":return e.stop()}}),e)}))),[r,o]);return c.a.createElement(s.a,{dark:!0,color:"dark",fixed:"top"},c.a.createElement(i.a,null,"\u30c6\u30ec\u30ef\u30fc\u30af\u7528\u306e\u30e1\u30fc\u30eb\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8"),c.a.createElement(d.a,{onClick:f,className:"d-none d-sm-inline-block",title:"Outlook on the web\u3067\u30e1\u30fc\u30eb\u3092\u4f5c\u6210",tag:"a",target:"_blank",href:E},c.a.createElement(b.a,{icon:p.c})))},y=a(824),v=a(825),C=a(826),k=a(818),_=a(819),x=a(321),w=a(820),N="mail-template-for-work-from-home-",I={to:"".concat(N,"to"),start_subject:"".concat(N,"start_subject"),end_subject:"".concat(N,"end_subject"),start_header:"".concat(N,"start_header"),end_header:"".concat(N,"end_header"),time_label:"".concat(N,"time_label"),content_label:"".concat(N,"content_label"),content_text:"".concat(N,"content_text"),footer:"".concat(N,"footer"),start_time:"".concat(N,"start_time"),end_time:"".concat(N,"end_time")},T=localStorage.getItem(I.to)||"",D=function(){var e=Object(n.useContext)(O).dispatch,t=Object(n.useCallback)((function(t){var a=t.target.value||"";e({type:"SetTo",payload:a}),localStorage.setItem(I.to,a)}),[e]);return Object(n.useEffect)((function(){e({type:"SetTo",payload:T})}),[e]),c.a.createElement(k.a,null,c.a.createElement(_.a,{addonType:"prepend"},c.a.createElement(x.a,null,"\u5b9b\u5148")),c.a.createElement(w.a,{required:!0,type:"email",defaultValue:T,onChange:t,placeholder:"\u4f8b: report@example.com"}))},U=a(821),R=a(822),B=function(){var e=Object(n.useContext)(O),t=e.type,a=e.dispatch,l=Object(n.useCallback)((function(e){a({type:"SetType",payload:e.target.value})}),[a]);return c.a.createElement(k.a,null,c.a.createElement(_.a,{addonType:"prepend"},c.a.createElement(x.a,null,"\u7a2e\u5225")),c.a.createElement("div",{className:"form-control"},c.a.createElement(U.a,{check:!0,inline:!0},c.a.createElement(R.a,{check:!0},c.a.createElement(w.a,{value:"Start",name:"type",type:"radio",onChange:l,defaultChecked:"Start"===t}),"\u696d\u52d9\u958b\u59cb")),c.a.createElement(U.a,{check:!0,inline:!0},c.a.createElement(R.a,{check:!0},c.a.createElement(w.a,{value:"End",name:"type",type:"radio",onChange:l,defaultChecked:"End"===t}),"\u696d\u52d9\u7d42\u4e86"))))},F=localStorage.getItem(I.start_subject)||"[\u30c6\u30ec\u30ef\u30fc\u30af]\u696d\u52d9\u958b\u59cb",P=localStorage.getItem(I.end_subject)||"[\u30c6\u30ec\u30ef\u30fc\u30af]\u696d\u52d9\u7d42\u4e86",J=function(){var e=Object(n.useContext)(O),t=e.type,a=e.dispatch,l=Object(n.useState)(F),r=Object(E.a)(l,2),o=r[0],u=r[1],m=Object(n.useState)(P),s=Object(E.a)(m,2),i=s[0],d=s[1];Object(n.useEffect)((function(){a({type:"SetSubject",payload:"End"===t?i:o})}),[t,o,i,a]);var b=Object(n.useCallback)((function(e){var t=e.target.value||"";u(t),localStorage.setItem(I.start_subject,t)}),[u]),p=Object(n.useCallback)((function(e){var t=e.target.value||"";d(t),localStorage.setItem(I.end_subject,t)}),[d]);return c.a.createElement(k.a,null,c.a.createElement(_.a,{addonType:"prepend"},c.a.createElement(x.a,null,"\u4ef6\u540d")),c.a.createElement(w.a,{hidden:"Start"!==t,require:!0,key:"Start",defaultValue:o,onChange:b,placeholder:"\u696d\u52d9\u958b\u59cb\u6642\u306e\u4ef6\u540d\u3092\u5165\u529b"}),c.a.createElement(w.a,{hidden:"End"!==t,required:!0,key:"End",defaultValue:i,onChange:p,placeholder:"\u696d\u52d9\u7d42\u4e86\u6642\u306e\u4ef6\u540d\u3092\u5165\u529b"}))},V=a(322),A=a.n(V),M=a(64),H=localStorage.getItem(I.start_header)||"xx\u3055\u3093\n\nxx\u3067\u3059\u3002\n\u30c6\u30ec\u30ef\u30fc\u30af\u958b\u59cb\u3057\u307e\u3059\u3002",q=localStorage.getItem(I.end_header)||"xx\u3055\u3093\n\nxx\u3067\u3059\u3002\n\u30c6\u30ec\u30ef\u30fc\u30af\u7d42\u4e86\u3057\u307e\u3059\u3002",L=function(e){var t=e.onChange,a=Object(n.useContext)(O).type,l=Object(n.useState)(H),r=Object(E.a)(l,2),o=r[0],u=r[1],m=Object(n.useState)(q),s=Object(E.a)(m,2),i=s[0],d=s[1];Object(n.useEffect)((function(){switch(a){case"Start":t(o);break;case"End":t(i)}}),[a,o,i,t]),Object(n.useEffect)((function(){localStorage.setItem(I.start_header,o)}),[o]),Object(n.useEffect)((function(){localStorage.setItem(I.end_header,i)}),[i]);var b=Object(n.useCallback)((function(e){u(e.target.value)}),[u]),p=Object(n.useCallback)((function(e){d(e.target.value)}),[d]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(M.a,{className:"form-control",hidden:"Start"!==a,defaultValue:o,onChange:b,placeholder:"\u958b\u59cb\u7528\u306e\u672c\u6587\u306e\u30d8\u30c3\u30c0\u30fc",minRows:3}),c.a.createElement(M.a,{className:"form-control",hidden:"End"!==a,defaultValue:i,onChange:p,placeholder:"\u7d42\u4e86\u7528\u306e\u672c\u6587\u306e\u30d8\u30c3\u30c0\u30fc",minRows:3}))},W=a(345),z=function(){var e=Object(n.useContext)(O),t=e.schema,a=e.uiSchema,l=e.dispatch,r=Object(n.useState)({}),o=Object(E.a)(r,2),u=o[0],m=o[1],s=Object(n.useCallback)((function(e){var t=e.formData;l({type:"SetFormData",payload:t}),console.log(t),m(t)}),[l,m]);return t&&a?c.a.createElement(W.a,{schema:t,uiSchema:a,formData:u,onChange:s},c.a.createElement("hr",null)):c.a.createElement(c.a.Fragment,null)},Q=a(823),$=a(827),G=a(828),K=localStorage.getItem(I.start_time)||"08:40",X=localStorage.getItem(I.end_time)||"17:30",Y=localStorage.getItem(I.time_label)||"[\u6642\u9593]",Z=function(e){var t=e.onChange,a=Object(n.useContext)(O).type,l=Object(n.useState)(K),r=Object(E.a)(l,2),o=r[0],u=r[1],m=Object(n.useState)(X),s=Object(E.a)(m,2),i=s[0],f=s[1],h=Object(n.useState)(Y),j=Object(E.a)(h,2),g=j[0],S=j[1],y=Object(n.useCallback)((function(e){u(e.target.value||"")}),[u]),v=Object(n.useCallback)((function(e){f(e.target.value||"")}),[f]),C=Object(n.useCallback)((function(){u(Object($.a)(new Date,"HH:mm"))}),[u]),x=Object(n.useCallback)((function(){f(Object($.a)(new Date,"HH:mm"))}),[f]);return Object(n.useEffect)((function(){t("".concat(g,"\n\n    ").concat(Object($.a)(new Date,"L/d(E)",{locale:G.a})," ").concat(o," - ").concat(i))}),[g,o,i,t]),Object(n.useEffect)((function(){localStorage.setItem(I.start_time,o)}),[o]),Object(n.useEffect)((function(){"Start"===a&&localStorage.setItem(I.end_time,i)}),[i,a]),c.a.createElement("div",null,c.a.createElement(Q.a,{inline:!0},c.a.createElement(w.a,{onChange:function(e){var t=e.target.value||"";S(t),localStorage.setItem(I.time_label,t)},placeholder:"\u6642\u9593\u306e\u30e9\u30d9\u30eb",value:g})),c.a.createElement(Q.a,{inline:!0},c.a.createElement(U.a,{className:"w-100"},c.a.createElement("div",{className:"mx-4"},Object($.a)(new Date,"L/d(E)",{locale:G.a})),c.a.createElement(k.a,null,c.a.createElement(w.a,{type:"time",value:o,onChange:y}),c.a.createElement(_.a,{addonType:"append",hidden:"Start"!==a},c.a.createElement(d.a,{title:"\u73fe\u5728\u306e\u6642\u523b\u3092\u8a2d\u5b9a\u3059\u308b",onClick:C},c.a.createElement(b.a,{icon:p.e})))),c.a.createElement(b.a,{icon:p.d,className:"mx-3"}),c.a.createElement(k.a,null,c.a.createElement(w.a,{type:"time",value:i,onChange:v}),c.a.createElement(_.a,{addonType:"append",hidden:"End"!==a},c.a.createElement(d.a,{title:"\u73fe\u5728\u306e\u6642\u523b\u3092\u8a2d\u5b9a\u3059\u308b",onClick:x},c.a.createElement(b.a,{icon:p.e})))))))},ee=a(341),te=a.n(ee),ae=localStorage.getItem(I.content_label)||"[\u4f5c\u696d\u5185\u5bb9]",ne=localStorage.getItem(I.content_text)||"",ce=function(e){var t=e.onChange,a=Object(n.useState)(ae),l=Object(E.a)(a,2),r=l[0],o=l[1],u=Object(n.useState)(ne),m=Object(E.a)(u,2),s=m[0],i=m[1],f=Object(n.useCallback)((function(e){var t=e.target.value||"";o(t),localStorage.setItem(I.content_label,t)}),[o]),h=Object(n.useCallback)((function(e){var t=e.target.value||"";i(t),localStorage.setItem(I.content_text,t)}),[i]),j=Object(n.useCallback)((function(){i("")}),[i]);return Object(n.useEffect)((function(){t("".concat(r,"\n\n").concat(s))}),[r,s,t]),c.a.createElement("div",null,c.a.createElement(Q.a,{inline:!0},c.a.createElement(w.a,{onChange:f,value:r})),c.a.createElement("div",{className:"position-relative"},c.a.createElement(M.a,{value:s,minRows:5,className:"form-control",placeholder:"\u4f8b\n- AAA\u306e\u4f5c\u696d\n- BBB\u306e\u4f5c\u696d\n- CCC\u306e\u4f5c\u696d\n",onChange:h}),c.a.createElement(d.a,{onClick:j,size:"sm",title:"\u5185\u5bb9\u3092\u6d88\u53bb",color:"white",outline:!0,className:te.a.clear_btn},c.a.createElement(b.a,{icon:p.f}))))},le=localStorage.getItem(I.footer)||"\u4ee5\u4e0a\u3067\u3059\u3002\n\n------\n\u3053\u306e\u30e1\u30fc\u30eb\u306f\u3001\u4ee5\u4e0b\u306e\u30c4\u30fc\u30eb\u3092\u5229\u7528\u3057\u3066\u4f5c\u6210\u3057\u307e\u3057\u305f\u3002\n- [\u30c6\u30ec\u30ef\u30fc\u30af\u7528\u306e\u30e1\u30fc\u30eb\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8](https://yoshi6jp.github.io/mail-template-for-work-from-home/)",re=function(e){var t=e.onChange,a=Object(n.useCallback)((function(e){var a=e.target.value||"";t(a),localStorage.setItem(I.footer,a)}),[t]);return Object(n.useEffect)((function(){t(le)}),[t]),c.a.createElement(M.a,{className:"form-control",minRows:3,onChange:a,defaultValue:le,placeholder:"\u672c\u6587\u306e\u30d5\u30c3\u30bf\u30fc"})},oe=function(){var e=Object(n.useContext)(O),t=e.dispatch,a=e.schema,l=e.formData,r=Object(n.useState)(""),o=Object(E.a)(r,2),u=o[0],m=o[1],s=Object(n.useState)(""),i=Object(E.a)(s,2),d=i[0],b=i[1],p=Object(n.useState)(""),f=Object(E.a)(p,2),h=f[0],j=f[1],g=Object(n.useState)(""),S=Object(E.a)(g,2),y=S[0],v=S[1];return Object(n.useEffect)((function(){var e="";e=a?"".concat(u,"\n\n").concat(d,"    \n\n").concat(A.a.safeDump(l||""),"\n\n").concat(y):"".concat(u,"\n\n").concat(d,"    \n\n").concat(h,"\n\n").concat(y),t({type:"SetBody",payload:e})}),[u,d,h,y,a,l,t]),c.a.createElement("div",null,c.a.createElement("div",{className:"d-none d-sm-block"},c.a.createElement("p",{className:"lead"},"\u672c\u6587"),c.a.createElement(L,{onChange:m}),c.a.createElement(Z,{onChange:b})),a?c.a.createElement(z,null):c.a.createElement(ce,{onChange:j}),c.a.createElement("div",{className:"d-none d-sm-block"},c.a.createElement(re,{onChange:v})))},ue=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"d-none d-sm-block"},c.a.createElement(D,null),c.a.createElement(B,null),c.a.createElement(J,null)),c.a.createElement("br",null),c.a.createElement(oe,null))},me=a(144),se=a.n(me),ie=a(342),de=a.n(ie),be=function(){var e=Object(n.useContext)(O),t=e.to,a=e.subject,l=e.body;return c.a.createElement("div",null,c.a.createElement(k.a,null,c.a.createElement(_.a,{addonType:"prepend"},c.a.createElement(x.a,null,"\u5b9b\u5148")),c.a.createElement(w.a,{readOnly:!0,value:t}),c.a.createElement(_.a,{addonType:"append"},c.a.createElement(se.a,{text:t},c.a.createElement(d.a,{title:"\u5b9b\u5148\u3092\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc"},c.a.createElement(b.a,{icon:p.a}))))),c.a.createElement("br",null),c.a.createElement(k.a,null,c.a.createElement(_.a,{addonType:"prepend"},c.a.createElement(x.a,null,"\u4ef6\u540d")),c.a.createElement(w.a,{readOnly:!0,value:a}),c.a.createElement(_.a,{addonType:"append"},c.a.createElement(se.a,{text:a},c.a.createElement(d.a,{title:"\u4ef6\u540d\u3092\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc"},c.a.createElement(b.a,{icon:p.a}))))),c.a.createElement("br",null),c.a.createElement("p",{className:"lead"},"\u672c\u6587"),c.a.createElement("div",{className:"border position-relative p-1"},c.a.createElement("pre",null,c.a.createElement("code",null,l)),c.a.createElement(se.a,{text:l},c.a.createElement(d.a,{className:de.a.text_btn,title:"\u672c\u6587\u3092\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc"},c.a.createElement(b.a,{icon:p.a})))))},pe=a(343),Ee=function(){var e=Object(n.useRef)(null),t=Object(n.useContext)(O).dispatch,a=Object(n.useCallback)(function(){var e=Object(m.a)(u.a.mark((function e(a){var n,c,l,r,o,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),a.stopPropagation(),!(n=a.dataTransfer.files[0])){e.next=8;break}return e.next=6,Object(pe.readAsText)(n);case 6:c=e.sent;try{l=JSON.parse(c),r=l.FORM,o=l.UI,m=l.ENDPOINT,r&&t({type:"SetSchema",payload:r}),o&&t({type:"SetUiSchema",payload:o}),m&&t({type:"SetSendUrl",payload:m})}catch(u){}case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]),l=Object(n.useCallback)((function(e){e.preventDefault(),e.stopPropagation()}),[]),r=Object(n.useCallback)(Object(m.a)(u.a.mark((function a(){var n,c,l,r,o,m,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(c=null===(n=e.current)||void 0===n?void 0:n.value)){a.next=14;break}return a.next=4,fetch(c);case 4:return l=a.sent,a.next=7,l.json();case 7:r=a.sent,o=r.FORM,m=r.UI,s=r.ENDPOINT,console.log(s,r),o&&t({type:"SetSchema",payload:o}),m&&t({type:"SetUiSchema",payload:m}),s&&t({type:"SetSendUrl",payload:s}),o&&s&&t({type:"SetConfigUrl",payload:c});case 14:case"end":return a.stop()}}),a)}))),[e,t]);return c.a.createElement(k.a,{className:"mb-1"},c.a.createElement(_.a,{addonType:"prepend"},c.a.createElement(x.a,null,"JSON Schema (experiment)")),c.a.createElement(w.a,{innerRef:e,onDrop:a,onDragOver:l,placeholder:"\u672c\u6587\u306e JSON Schema \u306e URL \u3092\u8a2d\u5b9a "}),c.a.createElement(_.a,{addonType:"append"},c.a.createElement(d.a,{onClick:r},c.a.createElement(b.a,{icon:p.b}))))},fe=a(344),he=a.n(fe),je=function(){return c.a.createElement(y.a,{className:he.a.top,fluid:!0},c.a.createElement(v.a,null,c.a.createElement(C.a,{md:"12"},c.a.createElement(Ee,null)),c.a.createElement(C.a,{md:"12",lg:"6"},c.a.createElement(ue,null)),c.a.createElement(C.a,{md:"12",lg:"6",className:"d-none d-sm-block"},c.a.createElement(be,null))))},Oe=function(){return c.a.createElement(g,null,c.a.createElement("div",null,c.a.createElement(S,null),c.a.createElement(je,null)))};a(809),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[346,1,2]]]);
//# sourceMappingURL=main.7bdc1874.chunk.js.map